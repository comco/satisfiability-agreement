% Type realizibility og the two-variable first-order logic with equivalences in% refinementIn this section we consider the logic $\Lvp\Fo2\nopow\Eea\sze\agrefine$featureing $\sze \geq 2$ equivalence symbols $\see1,\see2,\dots,\see\sze$ inrefinement. Abbreviate the coarsest equivalence symbol $\se = \see\sze$.Recall from the previous section that every $\vFo2$-sentence $\fphi$ can bereduced in polynomial time to an equisatisfiable sentence in the form:\begin{equation*}  \forall\xx\forall\yy (\falp(\xx,\yy) \lor \xx = \yy) \land  \bigwedge_{1 \leq \ii \leq \nm} \forall\xx\exists\yy  (\smm\ii(\xx,\yy) \land \xx \neq \yy),\end{equation*}that may use additional unary predicate symbols and the new message symbols$\smm\ii$, where the $\forall\forall$-part $\falp$ is quantifier-free.\begin{definition}A \emph{classified signature} for $\Lvp\Fo2\nopow\Eea\sze\agrefine$ is apredicate signature $\SigS$ together with a sequence $\sms =\smm1\smm2\dots\smm\nm$ of distinct binary predicate symbols \emph{distinctfrom the equivalence symbols} from $\SigS$ having the intended interpretation\begin{equation*}  \bigwedge_{1 \leq \ii \leq \nm} \forall\xx\exists\yy   (\smm\ii(\xx,\yy) \land \xx \neq \yy).\end{equation*}\end{definition}Again, note that a classified signature \emph{automatically includes} the$\forall\exists$-part of formulas and $\seq{\SigS,\sms}$-structures\emph{automatically satisfy} the $\forall\exists$-part.The (finite) classified satisfiability problem for$\Lvp\Fo2\nopow\Eea\sze\agrefine$ is defined as in~\Cref{def:clsig-twovar}.Again we have the reduction:\[  \FinASat{\vFo2} \red\cP \FinAClSat{\vFo2}.\]Let $\ClSig\SigS\sms$ be a classified signature for$\Lvp\Fo2\nopow\Eea\sze\agrefine$.A type instance $\Tpi\TpiP\TpiT$ over $\ClSig\SigS\sms$ is defined asin~\Cref{def:tpinst-twovar}; also the notions of a model for a type instance,full realization, characteristic type instance of a model and the (finite)(full) type realizibility problem for $\Lvp\Fo2\nopow\Eea\sze\agrefine$ aredefined. Again, the reductions from~\Cref{rem:red-real-to-full-real}and~\Cref{rem:red-sat-to-real} hold:\begin{align*}  \FinAReal{\Lvp\Fo2\nopow\Eea\sze\agrefine} &\red\cNP   \FinAFullReal{\Lvp\Fo2\nopow\Eea\sze\agrefine} \\  \FinAClSat{\Lvp\Fo2\nopow\Eea\sze\agrefine} &\red\cExpTime
  \FinAReal{\Lvp\Fo2\nopow\Eea\sze\agrefine}.
\end{align*}We proceed to define new terms, specific to the case of many equivalencesymbols.The terminology is loosely based on~\cite{MALQ:MALQ201400102}.\begin{definition}A $2$-type $\tpTt \in \TpT\SigS$ is a \emph{galactic type} if $\se(\xx,\yy) \in\tau$.Otherwise, if $(\lnot\se(\xx,\yy)) \in \tpTt$, the type is a \emph{cosmic type}.The set of galactic $2$-types is $\TpTg\SigS$.The set of cosmic $2$-types is $\TpTc\SigS$.\end{definition}Informally, we think of the $\se$-classes in a structure as galaxies, thewhole structure as the cosmos, of the galactic $2$-types as characterizing theinteractions in the internals of the $\se$-classes of a structure, while cosmic $2$-types characterize the interactions between elements in different$\se$-classes.Let $\Tpi\TpiP\TpiT$ be a type instance over $\ClSig\SigS\sms$.\begin{definition}Two $1$-types $\tpIp, \tpIpp \in \TpiP$ are \emph{galactically connectable}(written $\tpIp \gconn \tpIpp$), if $\tpIp = \xtp\tpTt$ and $\tpIpp = \ytp\tpTt$for some galactic $\tpTt \in \TpiT$.The types are \emph{cosmically connectable} (written $\tpIp \cconn \tpIpp$), if$\tpIp = \xtp\tpTt$ and $\tpIpp = \ytp\tpTt$ for some cosmic $\tpTt \in \TpiT$.\end{definition}Note that the types may be both galactically and cosmically connectible and the(unqualified) definition of connectible types from~\Cref{def:connectable} isequivalent to:\[\miff{\tpIp \conn \tpIpp}{\tpIp \gconn \tpIpp \text{ or } \tpIp \cconn\tpIpp}.\]Recall that a $1$-type $\tpIp$ is a \emph{king type} if $\tpIp \not\conn \tpIp$.A $1$-type $\tpIp$ is a \emph{duke type} if it is not a king type and $\tpIp\not\cconn \tpIp$.\begin{definition}Let $\StrA$ be a $\ClSig\SigS\sms$-structure and let $\relE = \at\StrA\se$.The \emph{cosmic spectrum} $\cspIX\StrA\eclX$ of an $\relE$-class$\eclX \in \Ecl\relE$ is the set of cosmic types realized at $\eclX$:\[  \cspIX\StrA\eclX = \setbd{\tpIab\StrA\ea\eb \in \TpTc\SigS}{\ea\in\eclX, \eb \in  \domA\sub\set{\ea}} = \setbd{\tpIab\StrA\ea\eb}{\ea \in \eclX, \eb \in \domA  \sub \eclX}.\]\end{definition}